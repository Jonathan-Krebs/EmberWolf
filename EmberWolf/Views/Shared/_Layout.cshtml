<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - Animotion</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")

</head>
<body>
    <header id="Header" class="fixed-top">
        <nav class="py-1">
            <div class="container d-flex flex-column flex-md-row justify-content-between">
                <a class="py-2" href="~/">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="d-block mx-auto"><circle cx="12" cy="12" r="10"></circle><line x1="14.31" y1="8" x2="20.05" y2="17.94"></line><line x1="9.69" y1="8" x2="21.17" y2="8"></line><line x1="7.38" y1="12" x2="13.12" y2="2.06"></line><line x1="9.69" y1="16" x2="3.95" y2="6.06"></line><line x1="14.31" y1="16" x2="2.83" y2="16"></line><line x1="16.62" y1="12" x2="10.88" y2="21.94"></line></svg>
                </a>
                <a class="py-2 d-none d-md-inline-block" href="#">Gallery</a>
                <a class="py-2 d-none d-md-inline-block" href="#">Projects</a>
                <a class="py-2 d-none d-md-inline-block" href="#">Research</a>
                <a class="py-2 d-none d-md-inline-block" href="#">Support</a>
                @Html.Partial("_LoginPartial")
            </div>
        </nav>
    </header>
    <div class="body-content">
        @RenderBody()
        <br />
        <footer>
            <div class="container">
                <p>&copy; @DateTime.Now.Year - Animotion</p>
            </div>
        </footer>
    </div>

    <div class="modal fade" id="ContributionModal" tabindex="-1" role="dialog" aria-labelledby="ContributionModal" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Contribute Data</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div id="Upload1">
                        <p>Upload and tag a video to contribute to our global database of animal interactions, and power our AI translation engine.</p>
                        <div class="bg-light border p-2">
                            <form hidden>
                                <div class="form-group">
                                    <input onchange="UploadFile()" type="file" class="form-control-file" id="exampleFormControlFile1">
                                </div>
                            </form>
                            <div>
                                <button onclick="$('#exampleFormControlFile1').trigger('click');" class="btn btn-outline-primary mr-3">Upload File</button>
                                <label id="FileName" for="exampleFormControlFile1"></label>
                            </div>
                        </div>
                        <div class="progress mb-4" style="height: 3px;">
                            <div class="progress-bar" role="progressbar" id="FileProgress" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <div id="AdditionalQuestions" hidden>
                            <div class="mb-4">
                                <label>What species of animal is this video of?</label>
                                <input placeholder="eg: Labrador" class="form-control" />
                            </div>
                            <div class="mb-4">
                                <label>Additional Notes</label>
                                <textarea placeholder="What can you tell us about the context" class="form-control"></textarea>
                            </div>
                        </div>
                    </div>
                    <div hidden id="Upload2">
                        <div class="mb-4">
                            <div class="alert alert-success">
                                <span>Upload Successfull</span>
                            </div>
                        </div>
                       <div class="mb-4">
                           <label>Want to be notified when your video has been analysed?</label>
                           <input class="form-control" placeholder="Enter Your Email" />
                       </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <div id="SendBtn-div">
                        <button type="button" class="btn btn-primary disabled" onclick="OpenNextSection()" id="SendBtn">Send Data</button>
                    </div>
                    <div hidden id="EmailBtn">
                        <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="OpenNextSection()" >Done</button>
                    </div>
                </div>
            </div>
        </div>
    </div>


    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @RenderSection("scripts", required: false)
    <script>
        function UploadFile() {
            $('#FileName').html('CluckingChicken.mp4');
            $('#FileProgress').css('width', '100%');
            setTimeout(function () {
                $('#AdditionalQuestions').slideDown(200);
                $('#SendBtn').removeClass('disabled');
            },200)
        }
        $(function () {
            $(window).scroll(function () {
                if ($(this).scrollTop() >= 600) {
                    if (!$('#Header').hasClass('Header-Fixed')) {
                        $('#Header').addClass('Header-Fixed').css('top', '-100px');
                        setTimeout(function () {
                            $('#Header').addClass('Transition04').css('top', '-0px');
                        }, 50)
                    }
                }
                else {
                    if ($('#Header').hasClass('Header-Fixed')) {
                        $('#Header').css('top', '-100px');
                        setTimeout(function () {
                            $('#Header').removeClass('Header-Fixed').removeClass('Transition04').css('top', '-0px');
                        }, 200)
                    }
                }
            });
        });
        function OpenNextSection() {
            $('#Upload1').hide();
            $('#Upload2').fadeIn(200);
            $('#SendBtn-div').hide();
            $('#EmailBtn').show();
        }
    </script>
</body>
</html>
